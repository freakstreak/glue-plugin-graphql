import { Canvas, Meta, Story } from "@storybook/addon-docs";
import InstallationScreenshot from "./assets/Screenshot 2023-01-16 at 3.16.50 PM.png"

<Meta title="Plugin Docs/Graphql Plugin Doc" />


# GraphQL Plugin Doc

##
##

## Goals

- Introduce graphql in our application which is already connected with our postgres database.
- Make our data accessible via a graphql endpoint.
- Give us an interactive console to interact with our data present in our db.(Here it is hasura console running on [http://localhost:8080/console](http://localhost:8080/console))

##

## Requirements

- Postgres Plugin Instance
    
    ```bash
    $ node glue add postgres postgres
    ```
    
- Engine Plugin Instance
    
    ```bash
    $ node glue add engine engine
    ```
    
##

## How to install

- First go to your local terminal and type this command i order to install this plugin
    
    ```bash
    $ node glue add graphql <instance-name>
    ```
    
- For example, In my case I wanted to install graphql plugin with my instance name as “grqphql”, then I will follow this pattern to install auth plugin in my app:
    
    ```bash
    $ node glue add graphql graphql
    ```
    
    Here my instance name is graphql.
    
- Now, after installing the dependency it will ask you for selecting an instance which has the option for the list of postgres instances we have installed. Select the one with which you want to connect your hasura.

  Option will be something like this:
    
    <img src={InstallationScreenshot}/>
    

- In my case I have connected it with postgres, as I have already have postgres instance installed.
- If the plugin is installed successfully then we can go and see that inside **backend** folder there is new folder created named “**functions**” and inside that **function** folder a new folder which is named after our instance graphql is created. In this graphql directory we will see the same folder structure of hasura.
    
    Overall directory path for the graphql instance will be something like this:
    
    **backend/functions/graphql**

##


## How it works

- GraphQL plugin is started by Glue Engine plugin.
- Glue Engine plugin runs the graphql engine
- In order to start this plugin we need to run the following command:
    
    ```bash
    $ node glue develop:up
    ```
    
    This command will start running the docker image of all the instances and plugin we have created. Here, in this case it will up the hasura image named as gql.
    
- We can go to “[http://localhost:8080/console](http://localhost:8080/console)” and check our hasura console running.
- Now we can go to our hasura console running on “[http://localhost:8080/console](http://localhost:8080/console)” and start our development from there.
- In order to know how to start development using hausra we can refer to the hasura documentation. Here is the official link of hasura docs:
[https://hasura.io/docs/latest/index/](https://hasura.io/docs/latest/index/).
- In order to use our graphql endpoint to interact with our database by using quries  we can go to our hasura console and from there we can pick it up.

##

## API References